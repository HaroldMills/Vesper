<!DOCTYPE html>
<html lang="en">

<head>

    {% include "vesper/header-prefix.html" %}

    <title>Refresh recording audio file paths - Vesper</title>

    {% load vesper_extras %}

    {% load staticfiles %}
    <link rel="stylesheet" type="text/css" href="{% static 'vesper/view/command-form.css' %}">

</head>

<body>

    {% include "vesper/navbar.html" %}

    <h2>Refresh recording audio file paths</h2>

    <p>
        Refreshes the recording audio file paths stored in this archive, 
        updating any that have changed.
    </p>
    <p>
        For each recording audio file of the archive, this command
        attempts to locate the file by name in the archive's recording
        directories and their subdirectories. If the file is found and
        its path differs from that stored in the archive, the path
        stored in the archive is updated. If the file is not found, an
        error message is logged and the path stored for it in the archive
        is not modified.
    </p>
    <p>
        The recording directories of an archive can be specified in the
        <code>recording_directories</code> setting of the
        <code>Archive Settings.yaml</code> file, located in the archive
        directory. If that file is absent, or if it does not contain a
        <code>recording_directories</code> setting, Vesper assumes that
        recordings are located in the <code>Recordings</code> subdirectory
        of the archive directory.
    </p>
    
    {% include "vesper/command-executes-as-job-message.html" %}

    <!--
        TODO: Get django-widget-tweaks Django app  and use it to set CSS classes
        of form elements. Or perhaps use django-bootstrap3 app? See
        http://stackoverflow.com/questions/8474409/django-forms-and-bootstrap-css-classes-and-divs.
     -->

    <form class="form" role="form" action="{% url 'refresh-recording-audio-file-paths' %}" method="post">
        <button type="submit" class="btn btn-default form-spacing command-form-spacing">Refresh Paths</button>
    </form>

</body>

</html>
